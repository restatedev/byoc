import * as styles from "./styles.mjs";
import type { Context } from "aws-lambda";
import { RESTATE_LOGO } from "./static.mjs";
import { ControlPanelWidgetEvent } from "./index.mjs";
import { REPLServer } from "repl";

export interface ControlPanelProps {
  summary: {
    clusterName: string;
    licensedTo: string;
    usage: {
      cpuPercent: number;
      memoryPercent: number;
      storagePercent: number;
    };
    status: "Starting Up" | "Deploying" | "Active" | string;
    restateVersion: string;
    stackVersion: string;
    metricsDashboard: string;
    tasks: {
      stateless: {
        desired: number;
        pending: number;
        running: number;
      };
      stateful: {
        desired: number;
        pending: number;
        running: number;
      };
      controller: {
        desired: number;
        pending: number;
        running: number;
      };
    };
  };
  connectivityAndSecurity: {
    region: string;
    connectivity: {
      loadBalancer: {
        name: string;
        arn: string;
      };
      addresses: {
        ingress: string;
        admin: string;
        webUI: string;
      };
    };
    networking: {
      availabilityZones: string[];
      vpc: string;
      subnets: string[];
    };
    security: {
      securityGroups: { name: string; id: string }[];
      certificate?: {
        id: string;
        details?: {
          domains: string[];
          issuer: string;
          notAfter: string;
        };
      };
    };
    identity: {
      restate: {
        taskRole: string;
        taskExecutionRole: string;
      };
    };
  };
  nodes: {
    clusterName: string;
    stateful: {
      taskDefinition: string;
      logGroup?: string;
      tasks: (TaskProps & {
        nodeID: string;
        storageState:
          | "provisioning"
          | "disabled"
          | "read-only"
          | "gone"
          | "read-write"
          | "data-loss";
        leader: string;
        follower: string;
        nodesetMember: string;
        storage: string;
      })[];
    };
    stateless: {
      serviceName: string;
      taskDefinition: string;
      logGroup?: string;
      tasks: (TaskProps & { nodeID: string })[];
    };
    controller: {
      serviceName: string;
      taskDefinition: string;
      logGroup?: string;
      tasks: TaskProps[];
    };
  };
  storage: {
    s3: {
      bucket: string;
      totalSize: string;
    };
    volumes: ({
      availabilityZone: string;
      type: string;
      size: string;
      iops: string;
      throughput: string;
      state:
        | "creating"
        | "available"
        | "in-use"
        | "deleting"
        | "deleted"
        | "error";
      statusCheck:
        | "ok"
        | "warning"
        | "impaired"
        | "insufficient-data"
        | "not-available";
    } & ({ volumeID: string } | { taskID: string }))[];
  };
  replication: {
    partitions: {
      count: number;
      replication: { node: number } | { zone: number };
      info: {
        partitionID: string;
        nodeID: string;
        mode: string;
        status: string;
        leader: string;
        sequencer: string;
        appliedLSN: string;
        persistedLSN: string;
        archivedLSN: string;
        lsnLag: string;
        lastUpdate: string;
      }[];
    };
    logs: {
      count: number;
      replication: { node: number } | { zone: number };
      info: {
        logID: string;
        fromLSN: string;
        logletID: string;
        sequencer: string;
        nodeSet: string;
      }[];
    };
  };
}

export interface TaskProps {
  taskID: string;
  availabilityZone: string;
  lastStatus:
    | "PROVISIONING"
    | "PENDING"
    | "ACTIVATING"
    | "RUNNING"
    | "DEACTIVATING"
    | "STOPPING"
    | "DEPROVISIONING"
    | "STOPPED"
    | "DELETED";
  desiredStatus: "PENDING" | "RUNNING" | "STOPPED" | "DELETED";
  taskDefinition: string;
  healthStatus: "HEALTHY" | "UNHEALTHY" | "UNKNOWN";
  cpu: string;
  memory: string;
  startedAt: string;
}

const mockData: ControlPanelProps = {
  summary: {
    clusterName: "FargateClusterStack/restate-byoc",
    licensedTo: "Acme Ltd",
    usage: {
      cpuPercent: 85,
      memoryPercent: 21,
      storagePercent: 5,
    },
    status: "Active",
    restateVersion: "1.3.0",
    stackVersion: "0.0.1",
    metricsDashboard: "restatebyocmetrics925D188A-uNQ3v9aEZowj",
    tasks: {
      stateless: {
        desired: 3,
        pending: 0,
        running: 2,
      },
      stateful: {
        desired: 3,
        pending: 1,
        running: 2,
      },
      controller: {
        desired: 0,
        pending: 0,
        running: 0,
      },
    },
  },
  connectivityAndSecurity: {
    region: "us-east-1",
    connectivity: {
      loadBalancer: {
        name: "Fargat-resta-vhW28HdSembi",
        arn: "arn:aws:elasticloadbalancing:us-east-1:211125428070:loadbalancer/net/Fargat-resta-vhW28HdSembi/b7b62542e300303f",
      },
      addresses: {
        ingress:
          "http://Fargat-resta-vhW28HdSembi-b7b62542e300303f.elb.us-east-1.amazonaws.com:8080",
        admin:
          "http://Fargat-resta-vhW28HdSembi-b7b62542e300303f.elb.us-east-1.amazonaws.com:9070",
        webUI:
          "http://Fargat-resta-vhW28HdSembi-b7b62542e300303f.elb.us-east-1.amazonaws.com:9070/ui",
      },
    },
    networking: {
      availabilityZones: ["us-east-1a", "us-east-1b", "us-east-1c"],
      vpc: "vpc-015b618dd29e7ce8e",
      subnets: [
        "subnet-084a26721fd91273b",
        "subnet-0f5aa19d12fa2aa9d",
        "subnet-04fcfac37346b0932",
      ],
    },
    security: {
      securityGroups: [
        {
          name: "FargateClusterStack-restatebyocsecuritygroupD7756A1B-vb3PffMWwQxQ",
          id: "sg-08b78a568f6b91674",
        },
      ],
      certificate: {
        id: "5ee72312-0588-4d43-aa3c-6d19585264b8",
        details: {
          domains: ["my-restate-test-domain.dev"],
          issuer: "Amazon",
          notAfter: "2025-08-16T00:59:59+01:00",
        },
      },
    },
    identity: {
      restate: {
        taskRole:
          "FargateClusterStack-restatebyocrestatetaskroleB376B-nMvjWx49oJ3T",
        taskExecutionRole:
          "FargateClusterStack-restatebyocrestateexecutionrole-L3qiAsrjPW8A",
      },
    },
  },
  nodes: {
    clusterName: "FargateClusterStack-restatebyoccluster2D8B51A4-icvVpGCPByZz",
    stateful: {
      taskDefinition:
        "FargateClusterStackrestatebyocstatefuldefinitionCFC57063:10",
      logGroup:
        "FargateClusterStack-restatebyocstatefuldefinitionrestateLogGroup128914B1-7jC9toCU1gH7",
      tasks: [
        {
          taskID: "714678ab15cd4f73a5b27675cbae093f",
          availabilityZone: "us-east-1b",
          nodeID: "N56:1",
          lastStatus: "RUNNING",
          desiredStatus: "RUNNING",
          storageState: "read-write",
          leader: "65",
          follower: "64",
          nodesetMember: "128",
          taskDefinition:
            "FargateClusterStackrestatebyocstatefuldefinitionCFC57063:10",
          healthStatus: "HEALTHY",
          cpu: "2 vCPU",
          memory: "4 GB",
          storage: "200 GB",
          startedAt: "3 days ago",
        },
      ],
    },
    stateless: {
      serviceName:
        "FargateClusterStack-restatebyocstatelessserviceService36517873-0biN7aVhqGp0",
      taskDefinition:
        "FargateClusterStackrestatebyocstatelessdefinition7920AF6B:5",
      logGroup:
        "FargateClusterStack-restatebyocstatelessdefinitionrestateLogGroup9C7F71A7-oW19SXVNi2cT",
      tasks: [
        {
          taskID: "12f40285bbd64d979b2f32a46ccc0284",
          availabilityZone: "us-east-1a",
          nodeID: "N63:1",
          lastStatus: "RUNNING",
          desiredStatus: "STOPPED",
          taskDefinition:
            "FargateClusterStackrestatebyocstatelessdefinition7920AF6B:5",
          healthStatus: "HEALTHY",
          cpu: "2 vCPU",
          memory: "4 GB",
          startedAt: "3 hours ago",
        },
        {
          taskID: "1929a26ee7734440b6b534b185ed75b3",
          availabilityZone: "us-east-1b",
          nodeID: "N62:1",
          lastStatus: "RUNNING",
          desiredStatus: "STOPPED",
          taskDefinition:
            "FargateClusterStackrestatebyocstatelessdefinition7920AF6B:5",
          healthStatus: "HEALTHY",
          cpu: "2 vCPU",
          memory: "4 GB",
          startedAt: "4 hours ago",
        },
      ],
    },
    controller: {
      serviceName:
        "FargateClusterStack-restatebyoccontrollerserviceService56BA1EF2-DZhLw4nxlC68",
      taskDefinition:
        "FargateClusterStackrestatebyoccontrollerdefinition6B298A96:13",
      logGroup:
        "FargateClusterStack-restatebyoccontrollerdefinitioncontrollerLogGroup869ABABE-3ZyFmJPHRHKY",
      tasks: [
        {
          taskID: "4d2e3769d0fe4a14802377e77e992b3a",
          availabilityZone: "us-east-1b",
          lastStatus: "RUNNING",
          desiredStatus: "RUNNING",
          taskDefinition:
            "FargateClusterStackrestatebyoccontrollerdefinition6B298A96:13",
          healthStatus: "HEALTHY",
          cpu: "1 vCPU",
          memory: "2 GB",
          startedAt: "3 hours ago",
        },
      ],
    },
  },
  storage: {
    s3: {
      bucket: "fargateclusterstack-restatebyocbucket5e1c4e14-6nb8hq1v83dy",
      totalSize: "207.3 MB",
    },
    volumes: [
      {
        volumeID: "vol-0dc65b7b281692933",
        state: "in-use",
        availabilityZone: "us-east-1b",
        type: "gp3",
        size: "200 GiB",
        iops: "3000",
        throughput: "125",
        statusCheck: "ok",
      },
      {
        taskID: "714678ab15cd4f73a5b27675cbae093f",
        state: "in-use",
        availabilityZone: "us-east-1b",
        type: "gp2",
        size: "200 GiB",
        iops: "600",
        throughput: "125",
        statusCheck: "not-available",
      },
    ],
  },
  replication: {
    partitions: {
      count: 128,
      replication: { node: 2 },
      info: [
        {
          partitionID: "0",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210052",
          persistedLSN: "210052",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 330 ms ago",
        },
        {
          partitionID: "0",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210052",
          persistedLSN: "210052",
          archivedLSN: "122539",
          lsnLag: "0",
          lastUpdate: "1 second and 482 ms ago",
        },
        {
          partitionID: "1",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210955",
          persistedLSN: "210955",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 231 ms ago",
        },
        {
          partitionID: "1",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210955",
          persistedLSN: "210955",
          archivedLSN: "123514",
          lsnLag: "0",
          lastUpdate: "826 ms ago",
        },
        {
          partitionID: "2",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208600",
          persistedLSN: "208600",
          archivedLSN: "121908",
          lsnLag: "0",
          lastUpdate: "1 second and 246 ms ago",
        },
        {
          partitionID: "2",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208600",
          persistedLSN: "208600",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "698 ms ago",
        },
        {
          partitionID: "3",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208362",
          persistedLSN: "208362",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 198 ms ago",
        },
        {
          partitionID: "3",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208362",
          persistedLSN: "208362",
          archivedLSN: "122077",
          lsnLag: "0",
          lastUpdate: "779 ms ago",
        },
        {
          partitionID: "4",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210200",
          persistedLSN: "210200",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 163 ms ago",
        },
        {
          partitionID: "4",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210200",
          persistedLSN: "210200",
          archivedLSN: "122892",
          lsnLag: "0",
          lastUpdate: "704 ms ago",
        },
        {
          partitionID: "5",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208910",
          persistedLSN: "208910",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 31 ms ago",
        },
        {
          partitionID: "5",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208910",
          persistedLSN: "208910",
          archivedLSN: "122861",
          lsnLag: "0",
          lastUpdate: "1 second and 401 ms ago",
        },
        {
          partitionID: "6",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209404",
          persistedLSN: "209404",
          archivedLSN: "122345",
          lsnLag: "0",
          lastUpdate: "752 ms ago",
        },
        {
          partitionID: "6",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209404",
          persistedLSN: "209404",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 455 ms ago",
        },
        {
          partitionID: "7",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208869",
          persistedLSN: "208869",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 93 ms ago",
        },
        {
          partitionID: "7",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208869",
          persistedLSN: "208869",
          archivedLSN: "122371",
          lsnLag: "0",
          lastUpdate: "877 ms ago",
        },
        {
          partitionID: "8",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208934",
          persistedLSN: "208934",
          archivedLSN: "121156",
          lsnLag: "0",
          lastUpdate: "1 second and 274 ms ago",
        },
        {
          partitionID: "8",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208934",
          persistedLSN: "208934",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 254 ms ago",
        },
        {
          partitionID: "9",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208362",
          persistedLSN: "208362",
          archivedLSN: "121772",
          lsnLag: "0",
          lastUpdate: "1 second and 4 ms ago",
        },
        {
          partitionID: "9",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208362",
          persistedLSN: "208362",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 143 ms ago",
        },
        {
          partitionID: "10",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208829",
          persistedLSN: "208829",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "775 ms ago",
        },
        {
          partitionID: "10",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208829",
          persistedLSN: "208829",
          archivedLSN: "121141",
          lsnLag: "0",
          lastUpdate: "876 ms ago",
        },
        {
          partitionID: "11",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208491",
          persistedLSN: "208491",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 413 ms ago",
        },
        {
          partitionID: "11",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208491",
          persistedLSN: "208491",
          archivedLSN: "122402",
          lsnLag: "0",
          lastUpdate: "1 second and 194 ms ago",
        },
        {
          partitionID: "12",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211030",
          persistedLSN: "211030",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 497 ms ago",
        },
        {
          partitionID: "12",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211030",
          persistedLSN: "211030",
          archivedLSN: "123537",
          lsnLag: "0",
          lastUpdate: "1 second and 243 ms ago",
        },
        {
          partitionID: "13",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209643",
          persistedLSN: "209643",
          archivedLSN: "123130",
          lsnLag: "0",
          lastUpdate: "1 second and 224 ms ago",
        },
        {
          partitionID: "13",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209643",
          persistedLSN: "209643",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "843 ms ago",
        },
        {
          partitionID: "14",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208547",
          persistedLSN: "208547",
          archivedLSN: "121449",
          lsnLag: "0",
          lastUpdate: "1 second and 418 ms ago",
        },
        {
          partitionID: "14",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208547",
          persistedLSN: "208547",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 32 ms ago",
        },
        {
          partitionID: "15",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "206765",
          persistedLSN: "206765",
          archivedLSN: "121314",
          lsnLag: "0",
          lastUpdate: "1 second and 107 ms ago",
        },
        {
          partitionID: "15",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "206765",
          persistedLSN: "206765",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "854 ms ago",
        },
        {
          partitionID: "16",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209093",
          persistedLSN: "209093",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "787 ms ago",
        },
        {
          partitionID: "16",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209093",
          persistedLSN: "209093",
          archivedLSN: "122775",
          lsnLag: "0",
          lastUpdate: "1 second and 102 ms ago",
        },
        {
          partitionID: "17",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208300",
          persistedLSN: "208300",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "803 ms ago",
        },
        {
          partitionID: "17",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208300",
          persistedLSN: "208300",
          archivedLSN: "121703",
          lsnLag: "0",
          lastUpdate: "996 ms ago",
        },
        {
          partitionID: "18",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211254",
          persistedLSN: "211254",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 366 ms ago",
        },
        {
          partitionID: "18",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211254",
          persistedLSN: "211254",
          archivedLSN: "122779",
          lsnLag: "0",
          lastUpdate: "1 second and 213 ms ago",
        },
        {
          partitionID: "19",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208086",
          persistedLSN: "208086",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "973 ms ago",
        },
        {
          partitionID: "19",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208086",
          persistedLSN: "208086",
          archivedLSN: "121556",
          lsnLag: "0",
          lastUpdate: "1 second and 191 ms ago",
        },
        {
          partitionID: "20",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210418",
          persistedLSN: "210418",
          archivedLSN: "123454",
          lsnLag: "0",
          lastUpdate: "723 ms ago",
        },
        {
          partitionID: "20",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210418",
          persistedLSN: "210418",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 333 ms ago",
        },
        {
          partitionID: "21",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210991",
          persistedLSN: "210991",
          archivedLSN: "121680",
          lsnLag: "0",
          lastUpdate: "801 ms ago",
        },
        {
          partitionID: "21",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210991",
          persistedLSN: "210991",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "896 ms ago",
        },
        {
          partitionID: "22",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210419",
          persistedLSN: "210419",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 418 ms ago",
        },
        {
          partitionID: "22",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210419",
          persistedLSN: "210419",
          archivedLSN: "123794",
          lsnLag: "0",
          lastUpdate: "1 second and 127 ms ago",
        },
        {
          partitionID: "23",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211698",
          persistedLSN: "211698",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 29 ms ago",
        },
        {
          partitionID: "23",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211698",
          persistedLSN: "211698",
          archivedLSN: "122762",
          lsnLag: "0",
          lastUpdate: "1 second and 349 ms ago",
        },
        {
          partitionID: "24",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210136",
          persistedLSN: "210136",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 141 ms ago",
        },
        {
          partitionID: "24",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210136",
          persistedLSN: "210136",
          archivedLSN: "122386",
          lsnLag: "0",
          lastUpdate: "1 second and 100 ms ago",
        },
        {
          partitionID: "25",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211655",
          persistedLSN: "211655",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 286 ms ago",
        },
        {
          partitionID: "25",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211655",
          persistedLSN: "211655",
          archivedLSN: "123362",
          lsnLag: "0",
          lastUpdate: "1 second and 20 ms ago",
        },
        {
          partitionID: "26",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207995",
          persistedLSN: "207995",
          archivedLSN: "121462",
          lsnLag: "0",
          lastUpdate: "865 ms ago",
        },
        {
          partitionID: "26",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207995",
          persistedLSN: "207995",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "958 ms ago",
        },
        {
          partitionID: "27",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207848",
          persistedLSN: "207848",
          archivedLSN: "121610",
          lsnLag: "0",
          lastUpdate: "844 ms ago",
        },
        {
          partitionID: "27",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207848",
          persistedLSN: "207848",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 402 ms ago",
        },
        {
          partitionID: "28",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209798",
          persistedLSN: "209798",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "790 ms ago",
        },
        {
          partitionID: "28",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209798",
          persistedLSN: "209798",
          archivedLSN: "121693",
          lsnLag: "0",
          lastUpdate: "1 second and 479 ms ago",
        },
        {
          partitionID: "29",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209175",
          persistedLSN: "209175",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "886 ms ago",
        },
        {
          partitionID: "29",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209175",
          persistedLSN: "209175",
          archivedLSN: "121885",
          lsnLag: "0",
          lastUpdate: "1 second and 102 ms ago",
        },
        {
          partitionID: "30",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209252",
          persistedLSN: "209252",
          archivedLSN: "121695",
          lsnLag: "0",
          lastUpdate: "1 second and 459 ms ago",
        },
        {
          partitionID: "30",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209252",
          persistedLSN: "209252",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 208 ms ago",
        },
        {
          partitionID: "31",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207602",
          persistedLSN: "207602",
          archivedLSN: "121122",
          lsnLag: "0",
          lastUpdate: "980 ms ago",
        },
        {
          partitionID: "31",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207602",
          persistedLSN: "207602",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 40 ms ago",
        },
        {
          partitionID: "32",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210228",
          persistedLSN: "210228",
          archivedLSN: "123596",
          lsnLag: "0",
          lastUpdate: "817 ms ago",
        },
        {
          partitionID: "32",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210228",
          persistedLSN: "210228",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 81 ms ago",
        },
        {
          partitionID: "33",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209741",
          persistedLSN: "209741",
          archivedLSN: "121163",
          lsnLag: "0",
          lastUpdate: "766 ms ago",
        },
        {
          partitionID: "33",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209741",
          persistedLSN: "209741",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 87 ms ago",
        },
        {
          partitionID: "34",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208362",
          persistedLSN: "208362",
          archivedLSN: "122872",
          lsnLag: "0",
          lastUpdate: "1 second and 103 ms ago",
        },
        {
          partitionID: "34",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208362",
          persistedLSN: "208362",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 452 ms ago",
        },
        {
          partitionID: "35",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210267",
          persistedLSN: "210267",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 294 ms ago",
        },
        {
          partitionID: "35",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210267",
          persistedLSN: "210267",
          archivedLSN: "122373",
          lsnLag: "0",
          lastUpdate: "1 second and 312 ms ago",
        },
        {
          partitionID: "36",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "212348",
          persistedLSN: "212348",
          archivedLSN: "123689",
          lsnLag: "0",
          lastUpdate: "1 second and 204 ms ago",
        },
        {
          partitionID: "36",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "212348",
          persistedLSN: "212348",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "922 ms ago",
        },
        {
          partitionID: "37",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208568",
          persistedLSN: "208568",
          archivedLSN: "122933",
          lsnLag: "0",
          lastUpdate: "906 ms ago",
        },
        {
          partitionID: "37",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208568",
          persistedLSN: "208568",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "950 ms ago",
        },
        {
          partitionID: "38",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "207714",
          persistedLSN: "207714",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 10 ms ago",
        },
        {
          partitionID: "38",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "207714",
          persistedLSN: "207714",
          archivedLSN: "121420",
          lsnLag: "0",
          lastUpdate: "772 ms ago",
        },
        {
          partitionID: "39",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209126",
          persistedLSN: "209126",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 137 ms ago",
        },
        {
          partitionID: "39",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209126",
          persistedLSN: "209126",
          archivedLSN: "122667",
          lsnLag: "0",
          lastUpdate: "1 second and 147 ms ago",
        },
        {
          partitionID: "40",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207610",
          persistedLSN: "207610",
          archivedLSN: "120847",
          lsnLag: "0",
          lastUpdate: "781 ms ago",
        },
        {
          partitionID: "40",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207610",
          persistedLSN: "207610",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "861 ms ago",
        },
        {
          partitionID: "41",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211642",
          persistedLSN: "211642",
          archivedLSN: "123258",
          lsnLag: "0",
          lastUpdate: "1 second and 251 ms ago",
        },
        {
          partitionID: "41",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211642",
          persistedLSN: "211642",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 226 ms ago",
        },
        {
          partitionID: "42",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210366",
          persistedLSN: "210366",
          archivedLSN: "122553",
          lsnLag: "0",
          lastUpdate: "1 second and 322 ms ago",
        },
        {
          partitionID: "42",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210366",
          persistedLSN: "210366",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "738 ms ago",
        },
        {
          partitionID: "43",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211101",
          persistedLSN: "211101",
          archivedLSN: "122815",
          lsnLag: "0",
          lastUpdate: "1 second and 204 ms ago",
        },
        {
          partitionID: "43",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211101",
          persistedLSN: "211101",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 183 ms ago",
        },
        {
          partitionID: "44",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "213443",
          persistedLSN: "213443",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 173 ms ago",
        },
        {
          partitionID: "44",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "213443",
          persistedLSN: "213443",
          archivedLSN: "123073",
          lsnLag: "0",
          lastUpdate: "727 ms ago",
        },
        {
          partitionID: "45",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209998",
          persistedLSN: "209998",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 188 ms ago",
        },
        {
          partitionID: "45",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209998",
          persistedLSN: "209998",
          archivedLSN: "122192",
          lsnLag: "0",
          lastUpdate: "1 second and 41 ms ago",
        },
        {
          partitionID: "46",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208883",
          persistedLSN: "208883",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "990 ms ago",
        },
        {
          partitionID: "46",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208883",
          persistedLSN: "208883",
          archivedLSN: "121565",
          lsnLag: "0",
          lastUpdate: "850 ms ago",
        },
        {
          partitionID: "47",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211625",
          persistedLSN: "211625",
          archivedLSN: "123457",
          lsnLag: "0",
          lastUpdate: "1 second and 151 ms ago",
        },
        {
          partitionID: "47",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211625",
          persistedLSN: "211625",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 278 ms ago",
        },
        {
          partitionID: "48",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211463",
          persistedLSN: "211463",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 326 ms ago",
        },
        {
          partitionID: "48",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211463",
          persistedLSN: "211463",
          archivedLSN: "122667",
          lsnLag: "0",
          lastUpdate: "1 second and 549 ms ago",
        },
        {
          partitionID: "49",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207599",
          persistedLSN: "207599",
          archivedLSN: "120768",
          lsnLag: "0",
          lastUpdate: "996 ms ago",
        },
        {
          partitionID: "49",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207599",
          persistedLSN: "207599",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 54 ms ago",
        },
        {
          partitionID: "50",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210526",
          persistedLSN: "210526",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "822 ms ago",
        },
        {
          partitionID: "50",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210526",
          persistedLSN: "210526",
          archivedLSN: "122391",
          lsnLag: "0",
          lastUpdate: "1 second and 230 ms ago",
        },
        {
          partitionID: "51",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210415",
          persistedLSN: "210415",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 341 ms ago",
        },
        {
          partitionID: "51",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210415",
          persistedLSN: "210415",
          archivedLSN: "123066",
          lsnLag: "0",
          lastUpdate: "813 ms ago",
        },
        {
          partitionID: "52",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208937",
          persistedLSN: "208937",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 475 ms ago",
        },
        {
          partitionID: "52",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208937",
          persistedLSN: "208937",
          archivedLSN: "120766",
          lsnLag: "0",
          lastUpdate: "1 second and 100 ms ago",
        },
        {
          partitionID: "53",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "206839",
          persistedLSN: "206839",
          archivedLSN: "121398",
          lsnLag: "0",
          lastUpdate: "921 ms ago",
        },
        {
          partitionID: "53",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "206839",
          persistedLSN: "206839",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 255 ms ago",
        },
        {
          partitionID: "54",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209317",
          persistedLSN: "209317",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "995 ms ago",
        },
        {
          partitionID: "54",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209317",
          persistedLSN: "209317",
          archivedLSN: "121880",
          lsnLag: "0",
          lastUpdate: "1 second and 40 ms ago",
        },
        {
          partitionID: "55",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208287",
          persistedLSN: "208287",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 300 ms ago",
        },
        {
          partitionID: "55",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208287",
          persistedLSN: "208287",
          archivedLSN: "121508",
          lsnLag: "0",
          lastUpdate: "867 ms ago",
        },
        {
          partitionID: "56",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "212063",
          persistedLSN: "212063",
          archivedLSN: "124170",
          lsnLag: "0",
          lastUpdate: "725 ms ago",
        },
        {
          partitionID: "56",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "212063",
          persistedLSN: "212063",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "919 ms ago",
        },
        {
          partitionID: "57",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211131",
          persistedLSN: "211131",
          archivedLSN: "122551",
          lsnLag: "0",
          lastUpdate: "1 second and 14 ms ago",
        },
        {
          partitionID: "57",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211131",
          persistedLSN: "211131",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 265 ms ago",
        },
        {
          partitionID: "58",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "218278",
          persistedLSN: "218278",
          archivedLSN: "131137",
          lsnLag: "0",
          lastUpdate: "1 second and 212 ms ago",
        },
        {
          partitionID: "58",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "218278",
          persistedLSN: "218278",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 251 ms ago",
        },
        {
          partitionID: "59",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210271",
          persistedLSN: "210271",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 239 ms ago",
        },
        {
          partitionID: "59",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210271",
          persistedLSN: "210271",
          archivedLSN: "122278",
          lsnLag: "0",
          lastUpdate: "1 second and 446 ms ago",
        },
        {
          partitionID: "60",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210774",
          persistedLSN: "210774",
          archivedLSN: "121885",
          lsnLag: "0",
          lastUpdate: "1 second and 234 ms ago",
        },
        {
          partitionID: "60",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210774",
          persistedLSN: "210774",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 222 ms ago",
        },
        {
          partitionID: "61",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209078",
          persistedLSN: "209078",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "868 ms ago",
        },
        {
          partitionID: "61",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209078",
          persistedLSN: "209078",
          archivedLSN: "121938",
          lsnLag: "0",
          lastUpdate: "1 second and 226 ms ago",
        },
        {
          partitionID: "62",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209726",
          persistedLSN: "209726",
          archivedLSN: "122087",
          lsnLag: "0",
          lastUpdate: "1 second and 90 ms ago",
        },
        {
          partitionID: "62",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209726",
          persistedLSN: "209726",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "783 ms ago",
        },
        {
          partitionID: "63",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210317",
          persistedLSN: "210317",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "846 ms ago",
        },
        {
          partitionID: "63",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210317",
          persistedLSN: "210317",
          archivedLSN: "122667",
          lsnLag: "0",
          lastUpdate: "1 second and 267 ms ago",
        },
        {
          partitionID: "64",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208396",
          persistedLSN: "208396",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 45 ms ago",
        },
        {
          partitionID: "64",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208396",
          persistedLSN: "208396",
          archivedLSN: "123199",
          lsnLag: "0",
          lastUpdate: "1 second and 330 ms ago",
        },
        {
          partitionID: "65",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209876",
          persistedLSN: "209876",
          archivedLSN: "121429",
          lsnLag: "0",
          lastUpdate: "1 second and 146 ms ago",
        },
        {
          partitionID: "65",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209876",
          persistedLSN: "209876",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 111 ms ago",
        },
        {
          partitionID: "66",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209918",
          persistedLSN: "209918",
          archivedLSN: "121977",
          lsnLag: "0",
          lastUpdate: "1 second and 175 ms ago",
        },
        {
          partitionID: "66",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209918",
          persistedLSN: "209918",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "803 ms ago",
        },
        {
          partitionID: "67",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209691",
          persistedLSN: "209691",
          archivedLSN: "122776",
          lsnLag: "0",
          lastUpdate: "877 ms ago",
        },
        {
          partitionID: "67",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209691",
          persistedLSN: "209691",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "866 ms ago",
        },
        {
          partitionID: "68",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209873",
          persistedLSN: "209873",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 383 ms ago",
        },
        {
          partitionID: "68",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209873",
          persistedLSN: "209873",
          archivedLSN: "122821",
          lsnLag: "0",
          lastUpdate: "1 second and 8 ms ago",
        },
        {
          partitionID: "69",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208809",
          persistedLSN: "208809",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 4 ms ago",
        },
        {
          partitionID: "69",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208809",
          persistedLSN: "208809",
          archivedLSN: "122572",
          lsnLag: "0",
          lastUpdate: "1 second and 98 ms ago",
        },
        {
          partitionID: "70",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209596",
          persistedLSN: "209596",
          archivedLSN: "122141",
          lsnLag: "0",
          lastUpdate: "899 ms ago",
        },
        {
          partitionID: "70",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209596",
          persistedLSN: "209596",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "809 ms ago",
        },
        {
          partitionID: "71",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209291",
          persistedLSN: "209291",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "734 ms ago",
        },
        {
          partitionID: "71",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209291",
          persistedLSN: "209291",
          archivedLSN: "121365",
          lsnLag: "0",
          lastUpdate: "1 second and 442 ms ago",
        },
        {
          partitionID: "72",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210158",
          persistedLSN: "210158",
          archivedLSN: "122144",
          lsnLag: "0",
          lastUpdate: "1 second and 173 ms ago",
        },
        {
          partitionID: "72",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210158",
          persistedLSN: "210158",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 496 ms ago",
        },
        {
          partitionID: "73",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211101",
          persistedLSN: "211101",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "896 ms ago",
        },
        {
          partitionID: "73",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211101",
          persistedLSN: "211101",
          archivedLSN: "123340",
          lsnLag: "0",
          lastUpdate: "1 second and 263 ms ago",
        },
        {
          partitionID: "74",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208780",
          persistedLSN: "208780",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 388 ms ago",
        },
        {
          partitionID: "74",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208780",
          persistedLSN: "208780",
          archivedLSN: "121918",
          lsnLag: "0",
          lastUpdate: "1 second and 161 ms ago",
        },
        {
          partitionID: "75",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210344",
          persistedLSN: "210344",
          archivedLSN: "122635",
          lsnLag: "0",
          lastUpdate: "1 second and 280 ms ago",
        },
        {
          partitionID: "75",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210344",
          persistedLSN: "210344",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 487 ms ago",
        },
        {
          partitionID: "76",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209183",
          persistedLSN: "209183",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 361 ms ago",
        },
        {
          partitionID: "76",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209183",
          persistedLSN: "209183",
          archivedLSN: "121236",
          lsnLag: "0",
          lastUpdate: "1 second and 64 ms ago",
        },
        {
          partitionID: "77",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208226",
          persistedLSN: "208226",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 40 ms ago",
        },
        {
          partitionID: "77",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208226",
          persistedLSN: "208226",
          archivedLSN: "121264",
          lsnLag: "0",
          lastUpdate: "1 second and 197 ms ago",
        },
        {
          partitionID: "78",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208745",
          persistedLSN: "208745",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "877 ms ago",
        },
        {
          partitionID: "78",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208745",
          persistedLSN: "208745",
          archivedLSN: "122865",
          lsnLag: "0",
          lastUpdate: "1 second and 152 ms ago",
        },
        {
          partitionID: "79",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208685",
          persistedLSN: "208685",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 219 ms ago",
        },
        {
          partitionID: "79",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208685",
          persistedLSN: "208685",
          archivedLSN: "122640",
          lsnLag: "0",
          lastUpdate: "1 second and 270 ms ago",
        },
        {
          partitionID: "80",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208921",
          persistedLSN: "208921",
          archivedLSN: "122146",
          lsnLag: "0",
          lastUpdate: "1 second and 430 ms ago",
        },
        {
          partitionID: "80",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208921",
          persistedLSN: "208921",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 65 ms ago",
        },
        {
          partitionID: "81",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "212795",
          persistedLSN: "212795",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "731 ms ago",
        },
        {
          partitionID: "81",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "212795",
          persistedLSN: "212795",
          archivedLSN: "123975",
          lsnLag: "0",
          lastUpdate: "1 second and 199 ms ago",
        },
        {
          partitionID: "82",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207288",
          persistedLSN: "207288",
          archivedLSN: "120436",
          lsnLag: "0",
          lastUpdate: "1 second and 371 ms ago",
        },
        {
          partitionID: "82",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207288",
          persistedLSN: "207288",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "938 ms ago",
        },
        {
          partitionID: "83",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210369",
          persistedLSN: "210369",
          archivedLSN: "122456",
          lsnLag: "0",
          lastUpdate: "1 second and 312 ms ago",
        },
        {
          partitionID: "83",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210369",
          persistedLSN: "210369",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "917 ms ago",
        },
        {
          partitionID: "84",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210423",
          persistedLSN: "210423",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 142 ms ago",
        },
        {
          partitionID: "84",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210423",
          persistedLSN: "210423",
          archivedLSN: "122237",
          lsnLag: "0",
          lastUpdate: "1 second and 83 ms ago",
        },
        {
          partitionID: "85",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209700",
          persistedLSN: "209700",
          archivedLSN: "122268",
          lsnLag: "0",
          lastUpdate: "752 ms ago",
        },
        {
          partitionID: "85",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209700",
          persistedLSN: "209700",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 564 ms ago",
        },
        {
          partitionID: "86",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208171",
          persistedLSN: "208171",
          archivedLSN: "121161",
          lsnLag: "0",
          lastUpdate: "1 second and 235 ms ago",
        },
        {
          partitionID: "86",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208171",
          persistedLSN: "208171",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 210 ms ago",
        },
        {
          partitionID: "87",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209041",
          persistedLSN: "209041",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "922 ms ago",
        },
        {
          partitionID: "87",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209041",
          persistedLSN: "209041",
          archivedLSN: "121377",
          lsnLag: "0",
          lastUpdate: "1 second and 498 ms ago",
        },
        {
          partitionID: "88",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211467",
          persistedLSN: "211467",
          archivedLSN: "123279",
          lsnLag: "0",
          lastUpdate: "1 second and 539 ms ago",
        },
        {
          partitionID: "88",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211467",
          persistedLSN: "211467",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "735 ms ago",
        },
        {
          partitionID: "89",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207901",
          persistedLSN: "207901",
          archivedLSN: "122229",
          lsnLag: "0",
          lastUpdate: "1 second and 63 ms ago",
        },
        {
          partitionID: "89",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207901",
          persistedLSN: "207901",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "848 ms ago",
        },
        {
          partitionID: "90",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210171",
          persistedLSN: "210171",
          archivedLSN: "124145",
          lsnLag: "0",
          lastUpdate: "1 second and 423 ms ago",
        },
        {
          partitionID: "90",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210171",
          persistedLSN: "210171",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 179 ms ago",
        },
        {
          partitionID: "91",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "206990",
          persistedLSN: "206990",
          archivedLSN: "121219",
          lsnLag: "0",
          lastUpdate: "1 second and 430 ms ago",
        },
        {
          partitionID: "91",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "206990",
          persistedLSN: "206990",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "715 ms ago",
        },
        {
          partitionID: "92",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "209521",
          persistedLSN: "209521",
          archivedLSN: "123054",
          lsnLag: "0",
          lastUpdate: "1 second and 22 ms ago",
        },
        {
          partitionID: "92",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "209521",
          persistedLSN: "209521",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 5 ms ago",
        },
        {
          partitionID: "93",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210750",
          persistedLSN: "210750",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 408 ms ago",
        },
        {
          partitionID: "93",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210750",
          persistedLSN: "210750",
          archivedLSN: "122047",
          lsnLag: "0",
          lastUpdate: "1 second and 370 ms ago",
        },
        {
          partitionID: "94",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209674",
          persistedLSN: "209674",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "942 ms ago",
        },
        {
          partitionID: "94",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209674",
          persistedLSN: "209674",
          archivedLSN: "122015",
          lsnLag: "0",
          lastUpdate: "887 ms ago",
        },
        {
          partitionID: "95",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207812",
          persistedLSN: "207812",
          archivedLSN: "121288",
          lsnLag: "0",
          lastUpdate: "915 ms ago",
        },
        {
          partitionID: "95",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207812",
          persistedLSN: "207812",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 83 ms ago",
        },
        {
          partitionID: "96",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208171",
          persistedLSN: "208171",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 453 ms ago",
        },
        {
          partitionID: "96",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208171",
          persistedLSN: "208171",
          archivedLSN: "121886",
          lsnLag: "0",
          lastUpdate: "1 second and 90 ms ago",
        },
        {
          partitionID: "97",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211209",
          persistedLSN: "211209",
          archivedLSN: "123677",
          lsnLag: "0",
          lastUpdate: "704 ms ago",
        },
        {
          partitionID: "97",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211209",
          persistedLSN: "211209",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 484 ms ago",
        },
        {
          partitionID: "98",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "209748",
          persistedLSN: "209748",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "715 ms ago",
        },
        {
          partitionID: "98",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "209748",
          persistedLSN: "209748",
          archivedLSN: "122591",
          lsnLag: "0",
          lastUpdate: "842 ms ago",
        },
        {
          partitionID: "99",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207006",
          persistedLSN: "207006",
          archivedLSN: "120406",
          lsnLag: "0",
          lastUpdate: "1 second and 576 ms ago",
        },
        {
          partitionID: "99",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207006",
          persistedLSN: "207006",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 164 ms ago",
        },
        {
          partitionID: "100",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210941",
          persistedLSN: "210941",
          archivedLSN: "122742",
          lsnLag: "0",
          lastUpdate: "1 second and 365 ms ago",
        },
        {
          partitionID: "100",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210941",
          persistedLSN: "210941",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "918 ms ago",
        },
        {
          partitionID: "101",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208751",
          persistedLSN: "208751",
          archivedLSN: "121691",
          lsnLag: "0",
          lastUpdate: "1 second and 320 ms ago",
        },
        {
          partitionID: "101",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208751",
          persistedLSN: "208751",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 112 ms ago",
        },
        {
          partitionID: "102",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208195",
          persistedLSN: "208195",
          archivedLSN: "121507",
          lsnLag: "0",
          lastUpdate: "1 second and 40 ms ago",
        },
        {
          partitionID: "102",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208195",
          persistedLSN: "208195",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 332 ms ago",
        },
        {
          partitionID: "103",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210532",
          persistedLSN: "210532",
          archivedLSN: "123636",
          lsnLag: "0",
          lastUpdate: "1 second and 502 ms ago",
        },
        {
          partitionID: "103",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210532",
          persistedLSN: "210532",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 220 ms ago",
        },
        {
          partitionID: "104",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211294",
          persistedLSN: "211294",
          archivedLSN: "123505",
          lsnLag: "0",
          lastUpdate: "1 second and 98 ms ago",
        },
        {
          partitionID: "104",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211294",
          persistedLSN: "211294",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 387 ms ago",
        },
        {
          partitionID: "105",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210592",
          persistedLSN: "210592",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "707 ms ago",
        },
        {
          partitionID: "105",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210592",
          persistedLSN: "210592",
          archivedLSN: "123872",
          lsnLag: "0",
          lastUpdate: "1 second and 219 ms ago",
        },
        {
          partitionID: "106",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211473",
          persistedLSN: "211473",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "864 ms ago",
        },
        {
          partitionID: "106",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211473",
          persistedLSN: "211473",
          archivedLSN: "122074",
          lsnLag: "0",
          lastUpdate: "696 ms ago",
        },
        {
          partitionID: "107",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210132",
          persistedLSN: "210132",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 590 ms ago",
        },
        {
          partitionID: "107",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210132",
          persistedLSN: "210132",
          archivedLSN: "122684",
          lsnLag: "0",
          lastUpdate: "738 ms ago",
        },
        {
          partitionID: "108",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210756",
          persistedLSN: "210756",
          archivedLSN: "122201",
          lsnLag: "0",
          lastUpdate: "1 second and 126 ms ago",
        },
        {
          partitionID: "108",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210756",
          persistedLSN: "210756",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "713 ms ago",
        },
        {
          partitionID: "109",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210467",
          persistedLSN: "210467",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 149 ms ago",
        },
        {
          partitionID: "109",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210467",
          persistedLSN: "210467",
          archivedLSN: "122556",
          lsnLag: "0",
          lastUpdate: "1 second and 301 ms ago",
        },
        {
          partitionID: "110",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211798",
          persistedLSN: "211798",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "834 ms ago",
        },
        {
          partitionID: "110",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211798",
          persistedLSN: "211798",
          archivedLSN: "125151",
          lsnLag: "0",
          lastUpdate: "1 second and 565 ms ago",
        },
        {
          partitionID: "111",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210465",
          persistedLSN: "210465",
          archivedLSN: "122120",
          lsnLag: "0",
          lastUpdate: "940 ms ago",
        },
        {
          partitionID: "111",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210465",
          persistedLSN: "210465",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 326 ms ago",
        },
        {
          partitionID: "112",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "206692",
          persistedLSN: "206692",
          archivedLSN: "120426",
          lsnLag: "0",
          lastUpdate: "1 second and 86 ms ago",
        },
        {
          partitionID: "112",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "206692",
          persistedLSN: "206692",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "927 ms ago",
        },
        {
          partitionID: "113",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211321",
          persistedLSN: "211321",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 203 ms ago",
        },
        {
          partitionID: "113",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211321",
          persistedLSN: "211321",
          archivedLSN: "122249",
          lsnLag: "0",
          lastUpdate: "995 ms ago",
        },
        {
          partitionID: "114",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208665",
          persistedLSN: "208665",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "882 ms ago",
        },
        {
          partitionID: "114",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208665",
          persistedLSN: "208665",
          archivedLSN: "121691",
          lsnLag: "0",
          lastUpdate: "701 ms ago",
        },
        {
          partitionID: "115",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211214",
          persistedLSN: "211214",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "814 ms ago",
        },
        {
          partitionID: "115",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211214",
          persistedLSN: "211214",
          archivedLSN: "123160",
          lsnLag: "0",
          lastUpdate: "1 second and 172 ms ago",
        },
        {
          partitionID: "116",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211575",
          persistedLSN: "211575",
          archivedLSN: "122740",
          lsnLag: "0",
          lastUpdate: "1 second and 20 ms ago",
        },
        {
          partitionID: "116",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211575",
          persistedLSN: "211575",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "921 ms ago",
        },
        {
          partitionID: "117",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "207134",
          persistedLSN: "207134",
          archivedLSN: "121270",
          lsnLag: "0",
          lastUpdate: "1 second and 188 ms ago",
        },
        {
          partitionID: "117",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "207134",
          persistedLSN: "207134",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 100 ms ago",
        },
        {
          partitionID: "118",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "211149",
          persistedLSN: "211149",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 569 ms ago",
        },
        {
          partitionID: "118",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "211149",
          persistedLSN: "211149",
          archivedLSN: "123625",
          lsnLag: "0",
          lastUpdate: "1 second and 64 ms ago",
        },
        {
          partitionID: "119",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210051",
          persistedLSN: "210051",
          archivedLSN: "122068",
          lsnLag: "0",
          lastUpdate: "1 second and 478 ms ago",
        },
        {
          partitionID: "119",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210051",
          persistedLSN: "210051",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "746 ms ago",
        },
        {
          partitionID: "120",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "208552",
          persistedLSN: "208552",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 217 ms ago",
        },
        {
          partitionID: "120",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "208552",
          persistedLSN: "208552",
          archivedLSN: "122692",
          lsnLag: "0",
          lastUpdate: "1 second and 149 ms ago",
        },
        {
          partitionID: "121",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "212154",
          persistedLSN: "212154",
          archivedLSN: "124138",
          lsnLag: "0",
          lastUpdate: "870 ms ago",
        },
        {
          partitionID: "121",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "212154",
          persistedLSN: "212154",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 175 ms ago",
        },
        {
          partitionID: "122",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "208746",
          persistedLSN: "208746",
          archivedLSN: "121957",
          lsnLag: "0",
          lastUpdate: "799 ms ago",
        },
        {
          partitionID: "122",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "208746",
          persistedLSN: "208746",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "843 ms ago",
        },
        {
          partitionID: "123",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210206",
          persistedLSN: "210206",
          archivedLSN: "122051",
          lsnLag: "0",
          lastUpdate: "856 ms ago",
        },
        {
          partitionID: "123",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210206",
          persistedLSN: "210206",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 269 ms ago",
        },
        {
          partitionID: "124",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "210827",
          persistedLSN: "210827",
          archivedLSN: "123541",
          lsnLag: "0",
          lastUpdate: "1 second and 75 ms ago",
        },
        {
          partitionID: "124",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "210827",
          persistedLSN: "210827",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 473 ms ago",
        },
        {
          partitionID: "125",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "207469",
          persistedLSN: "207469",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "746 ms ago",
        },
        {
          partitionID: "125",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "207469",
          persistedLSN: "207469",
          archivedLSN: "121635",
          lsnLag: "0",
          lastUpdate: "815 ms ago",
        },
        {
          partitionID: "126",
          nodeID: "N56:1",
          mode: "Leader",
          status: "Active",
          leader: "N56:1",
          sequencer: "N56:1",
          appliedLSN: "211504",
          persistedLSN: "211504",
          archivedLSN: "122950",
          lsnLag: "0",
          lastUpdate: "823 ms ago",
        },
        {
          partitionID: "126",
          nodeID: "N57:1",
          mode: "Follower",
          status: "Active",
          leader: "N56:1",
          sequencer: "",
          appliedLSN: "211504",
          persistedLSN: "211504",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "866 ms ago",
        },
        {
          partitionID: "127",
          nodeID: "N56:1",
          mode: "Follower",
          status: "Active",
          leader: "N57:1",
          sequencer: "",
          appliedLSN: "210787",
          persistedLSN: "210787",
          archivedLSN: "-",
          lsnLag: "0",
          lastUpdate: "1 second and 168 ms ago",
        },
        {
          partitionID: "127",
          nodeID: "N57:1",
          mode: "Leader",
          status: "Active",
          leader: "N57:1",
          sequencer: "N57:1",
          appliedLSN: "210787",
          persistedLSN: "210787",
          archivedLSN: "121955",
          lsnLag: "0",
          lastUpdate: "859 ms ago",
        },
      ],
    },
    logs: {
      count: 128,
      replication: { zone: 2 },
      info: [
        {
          logID: "0",
          fromLSN: "122540",
          logletID: "0_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "1",
          fromLSN: "123515",
          logletID: "1_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "2",
          fromLSN: "121909",
          logletID: "2_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "3",
          fromLSN: "122078",
          logletID: "3_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "4",
          fromLSN: "122893",
          logletID: "4_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "5",
          fromLSN: "122862",
          logletID: "5_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "6",
          fromLSN: "122346",
          logletID: "6_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "7",
          fromLSN: "122372",
          logletID: "7_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "8",
          fromLSN: "121157",
          logletID: "8_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "9",
          fromLSN: "121773",
          logletID: "9_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "10",
          fromLSN: "121142",
          logletID: "10_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "11",
          fromLSN: "122403",
          logletID: "11_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "12",
          fromLSN: "123538",
          logletID: "12_57",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "13",
          fromLSN: "123131",
          logletID: "13_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "14",
          fromLSN: "121450",
          logletID: "14_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "15",
          fromLSN: "121315",
          logletID: "15_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "16",
          fromLSN: "122776",
          logletID: "16_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "17",
          fromLSN: "121704",
          logletID: "17_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "18",
          fromLSN: "122780",
          logletID: "18_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "19",
          fromLSN: "121557",
          logletID: "19_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "20",
          fromLSN: "123455",
          logletID: "20_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "21",
          fromLSN: "121681",
          logletID: "21_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "22",
          fromLSN: "123795",
          logletID: "22_57",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "23",
          fromLSN: "122763",
          logletID: "23_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "24",
          fromLSN: "122387",
          logletID: "24_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "25",
          fromLSN: "123363",
          logletID: "25_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "26",
          fromLSN: "121463",
          logletID: "26_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "27",
          fromLSN: "121611",
          logletID: "27_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "28",
          fromLSN: "121694",
          logletID: "28_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "29",
          fromLSN: "121886",
          logletID: "29_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "30",
          fromLSN: "121696",
          logletID: "30_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "31",
          fromLSN: "121123",
          logletID: "31_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "32",
          fromLSN: "123597",
          logletID: "32_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "33",
          fromLSN: "121164",
          logletID: "33_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "34",
          fromLSN: "122873",
          logletID: "34_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "35",
          fromLSN: "122374",
          logletID: "35_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "36",
          fromLSN: "123690",
          logletID: "36_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "37",
          fromLSN: "122934",
          logletID: "37_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "38",
          fromLSN: "121421",
          logletID: "38_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "39",
          fromLSN: "122668",
          logletID: "39_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "40",
          fromLSN: "120848",
          logletID: "40_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "41",
          fromLSN: "123259",
          logletID: "41_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "42",
          fromLSN: "122554",
          logletID: "42_57",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "43",
          fromLSN: "122816",
          logletID: "43_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "44",
          fromLSN: "123074",
          logletID: "44_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "45",
          fromLSN: "122193",
          logletID: "45_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "46",
          fromLSN: "121566",
          logletID: "46_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "47",
          fromLSN: "123458",
          logletID: "47_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "48",
          fromLSN: "122668",
          logletID: "48_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "49",
          fromLSN: "120769",
          logletID: "49_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "50",
          fromLSN: "122392",
          logletID: "50_62",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "51",
          fromLSN: "123067",
          logletID: "51_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "52",
          fromLSN: "120767",
          logletID: "52_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "53",
          fromLSN: "121399",
          logletID: "53_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "54",
          fromLSN: "121881",
          logletID: "54_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "55",
          fromLSN: "121509",
          logletID: "55_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "56",
          fromLSN: "124171",
          logletID: "56_57",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "57",
          fromLSN: "122552",
          logletID: "57_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "58",
          fromLSN: "131138",
          logletID: "58_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "59",
          fromLSN: "122279",
          logletID: "59_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "60",
          fromLSN: "121886",
          logletID: "60_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "61",
          fromLSN: "121939",
          logletID: "61_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "62",
          fromLSN: "122088",
          logletID: "62_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "63",
          fromLSN: "122668",
          logletID: "63_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "64",
          fromLSN: "123200",
          logletID: "64_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "65",
          fromLSN: "121430",
          logletID: "65_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "66",
          fromLSN: "121978",
          logletID: "66_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "67",
          fromLSN: "122777",
          logletID: "67_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "68",
          fromLSN: "122822",
          logletID: "68_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "69",
          fromLSN: "122573",
          logletID: "69_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "70",
          fromLSN: "122142",
          logletID: "70_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "71",
          fromLSN: "121366",
          logletID: "71_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "72",
          fromLSN: "122145",
          logletID: "72_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "73",
          fromLSN: "123341",
          logletID: "73_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "74",
          fromLSN: "121919",
          logletID: "74_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "75",
          fromLSN: "122636",
          logletID: "75_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "76",
          fromLSN: "121237",
          logletID: "76_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "77",
          fromLSN: "121265",
          logletID: "77_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "78",
          fromLSN: "122866",
          logletID: "78_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "79",
          fromLSN: "122641",
          logletID: "79_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "80",
          fromLSN: "122147",
          logletID: "80_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "81",
          fromLSN: "123976",
          logletID: "81_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "82",
          fromLSN: "120437",
          logletID: "82_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "83",
          fromLSN: "122457",
          logletID: "83_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "84",
          fromLSN: "122238",
          logletID: "84_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "85",
          fromLSN: "122269",
          logletID: "85_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "86",
          fromLSN: "121162",
          logletID: "86_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "87",
          fromLSN: "121378",
          logletID: "87_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "88",
          fromLSN: "123280",
          logletID: "88_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "89",
          fromLSN: "122230",
          logletID: "89_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "90",
          fromLSN: "124146",
          logletID: "90_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "91",
          fromLSN: "121220",
          logletID: "91_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "92",
          fromLSN: "123055",
          logletID: "92_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "93",
          fromLSN: "122048",
          logletID: "93_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "94",
          fromLSN: "122016",
          logletID: "94_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "95",
          fromLSN: "121289",
          logletID: "95_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "96",
          fromLSN: "121887",
          logletID: "96_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "97",
          fromLSN: "123678",
          logletID: "97_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "98",
          fromLSN: "122592",
          logletID: "98_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "99",
          fromLSN: "120407",
          logletID: "99_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "100",
          fromLSN: "122743",
          logletID: "100_57",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "101",
          fromLSN: "121692",
          logletID: "101_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "102",
          fromLSN: "121508",
          logletID: "102_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "103",
          fromLSN: "123637",
          logletID: "103_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "104",
          fromLSN: "123506",
          logletID: "104_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "105",
          fromLSN: "123873",
          logletID: "105_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "106",
          fromLSN: "122075",
          logletID: "106_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "107",
          fromLSN: "122685",
          logletID: "107_57",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "108",
          fromLSN: "122202",
          logletID: "108_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "109",
          fromLSN: "122557",
          logletID: "109_61",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "110",
          fromLSN: "125152",
          logletID: "110_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "111",
          fromLSN: "122121",
          logletID: "111_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "112",
          fromLSN: "120427",
          logletID: "112_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "113",
          fromLSN: "122250",
          logletID: "113_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "114",
          fromLSN: "121692",
          logletID: "114_60",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "115",
          fromLSN: "123161",
          logletID: "115_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "116",
          fromLSN: "122741",
          logletID: "116_58",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "117",
          fromLSN: "121271",
          logletID: "117_61",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "118",
          fromLSN: "123626",
          logletID: "118_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "119",
          fromLSN: "122069",
          logletID: "119_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "120",
          fromLSN: "122693",
          logletID: "120_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "121",
          fromLSN: "124139",
          logletID: "121_62",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "122",
          fromLSN: "121958",
          logletID: "122_57",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "123",
          fromLSN: "122052",
          logletID: "123_59",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "124",
          fromLSN: "123542",
          logletID: "124_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "125",
          fromLSN: "121636",
          logletID: "125_59",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "126",
          fromLSN: "122951",
          logletID: "126_60",
          sequencer: "N56:1",
          nodeSet: "[N56, N57, N58]",
        },
        {
          logID: "127",
          fromLSN: "121956",
          logletID: "127_58",
          sequencer: "N57:1",
          nodeSet: "[N56, N57, N58]",
        },
      ],
    },
  },
};

export function controlPanel(context: Context, event: ControlPanelWidgetEvent) {
  const props = event.props ?? mockData;
  const summary = styles.contentWrapper(
    true,
    `<div class="awsui_horizontal awsui_horizontal-s"><div>Summary</div><img alt="restate logo" src="${RESTATE_LOGO}" width="85px"></img><div>`,
    styles.columns(
      styles.vertical(
        "s",
        styles.keyValue("Cluster name", props.summary.clusterName),
        styles.keyValue(
          "Licensed to",
          props.summary.licensedTo + `${Math.random()}`,
        ),
      ),
      styles.vertical(
        "s",
        styles.keyValue("Status", props.summary.status),
        styles.usageIndicators(
          {
            title: "CPU",
            usagePercent: props.summary.usage.cpuPercent,
          },
          {
            title: "Memory",
            usagePercent: props.summary.usage.memoryPercent,
          },
          {
            title: "Storage",
            usagePercent: props.summary.usage.storagePercent,
          },
        ),
      ),
      styles.vertical(
        "s",
        styles.taskStats("Stateless nodes", props.summary.tasks.stateless),
        styles.taskStats("Stateful nodes", props.summary.tasks.stateful),
        styles.taskStats("Controller", props.summary.tasks.controller),
      ),
      styles.vertical(
        "s",
        // todo link to github releases for these two?
        styles.keyValue("Restate Version", props.summary.restateVersion),
        styles.keyValue("Stack Version", props.summary.stackVersion),
      ),
    ),
    true,
    [
      styles.buttonLink(
        `/cloudwatch/home?region=${props.connectivityAndSecurity.region}#dashboards/dashboard/${props.summary.metricsDashboard}`,
        "CloudWatch Metrics",
      ),
    ],
  );

  const addresses = styles.vertical(
    "m",
    styles.heading("h3", "Connectivity"),
    styles.keyValue(
      "Load balancer",
      styles.link(
        `/ec2/home?region=${props.connectivityAndSecurity.region}#LoadBalancer:loadBalancerArn=${props.connectivityAndSecurity.connectivity.loadBalancer.arn}`,
        props.connectivityAndSecurity.connectivity.loadBalancer.name,
      ),
    ),
    styles.keyValue(
      "Ingress endpoint",
      props.connectivityAndSecurity.connectivity.addresses.ingress,
    ),
    styles.keyValue(
      "Admin endpoint",
      props.connectivityAndSecurity.connectivity.addresses.ingress,
    ),
    styles.keyValue(
      "Restate UI",
      styles.link(
        props.connectivityAndSecurity.connectivity.addresses.webUI,
        props.connectivityAndSecurity.connectivity.addresses.webUI,
      ),
    ),
  );

  const networking = styles.vertical(
    "m",
    styles.heading("h3", `Networking`),
    styles.keyValue(
      "Availability Zones",
      styles.list(
        ...props.connectivityAndSecurity.networking.availabilityZones,
      ),
    ),
    styles.keyValue(
      "VPC",
      styles.link(
        `/vpc/home?region=${props.connectivityAndSecurity.region}#vpcs:VpcId=${props.connectivityAndSecurity.networking.vpc}`,
        props.connectivityAndSecurity.networking.vpc,
      ),
    ),
    styles.keyValue(
      "Subnets",
      styles.list(
        ...props.connectivityAndSecurity.networking.subnets.map((subnet) =>
          styles.link(
            `/vpc/home?region=${props.connectivityAndSecurity.region}#subnets:SubnetId=${subnet}`,
            subnet,
          ),
        ),
      ),
    ),
  );

  const certificate = props.connectivityAndSecurity.security.certificate
    ? [
        styles.keyValue(
          "Certificate",
          styles.link(
            `/acm/home?region=${props.connectivityAndSecurity.region}#/certificates/${props.connectivityAndSecurity.security.certificate.id}`,
            props.connectivityAndSecurity.security.certificate.details
              ? `${
                  props.connectivityAndSecurity.security.certificate.details
                    .domains[0]
                } (Certificate ID: ${props.connectivityAndSecurity.security.certificate.id})`
              : props.connectivityAndSecurity.security.certificate.id,
          ),
        ),
        ...(props.connectivityAndSecurity.security.certificate.details
          ? [
              styles.keyValue(
                "Certificate issuer",
                props.connectivityAndSecurity.security.certificate.details
                  .issuer,
              ),
              styles.keyValue(
                "Certificate expiry",
                props.connectivityAndSecurity.security.certificate.details
                  .notAfter,
              ),
            ]
          : []),
      ]
    : [];

  const security = styles.vertical(
    "m",
    styles.heading("h3", `Security`),
    styles.keyValue(
      "VPC Security groups",
      styles.list(
        ...props.connectivityAndSecurity.security.securityGroups.map(
          ({ name, id }) =>
            styles.link(
              `/ec2/v2/home?region=${props.connectivityAndSecurity.region}#SecurityGroups:search=${id}`,
              `${name} (${id})`,
            ),
        ),
      ),
    ),
    ...certificate,
  );

  const identity = styles.vertical(
    "m",
    styles.heading("h3", `Identity`),
    styles.keyValue(
      "Restate task role",
      styles.link(
        `/iam/home?region=${props.connectivityAndSecurity.region}#roles/${props.connectivityAndSecurity.identity.restate.taskRole}`,
        props.connectivityAndSecurity.identity.restate.taskRole,
      ),
    ),
    styles.keyValue(
      "Restate task execution role",
      styles.link(
        `/iam/home?region=${props.connectivityAndSecurity.region}#roles/${props.connectivityAndSecurity.identity.restate.taskExecutionRole}`,
        props.connectivityAndSecurity.identity.restate.taskExecutionRole,
      ),
    ),
  );

  const connectivity = styles.vertical(
    "l",
    styles.contentWrapper(
      true,
      "Connectivity & security",
      styles.columns(addresses, networking, security, identity),
    ),
  );

  const numericCompare = (a: string, b: string) => Number(a) - Number(b);

  const statefulNodesHeaders: styles.TableHeader[] = [
    { name: "Node ID", width: 100 },
    { name: "Task", width: 350 },
    { name: "Availability zone", width: 200 },
    { name: "Storage state", width: 165 },
    { name: "Leader", width: 120, compare: numericCompare },
    { name: "Follower", width: 120, compare: numericCompare },
    { name: "Nodeset member", width: 165, compare: numericCompare },
    { name: "Last status", width: 165 },
    { name: "Desired status", width: 165 },
    { name: "Health status", width: 165 },
    { name: "Task definition", width: 639 },
    { name: "CPU", width: 120 },
    { name: "Memory", width: 120 },
    { name: "Storage", width: 120 },
    { name: "Started at", width: 140 },
  ];

  const statefulNodesRows = props.nodes.stateful.tasks.map((node) => [
    node.nodeID,
    styles.link(
      `/ecs/v2/clusters/${props.nodes.clusterName}/tasks/${node.taskID}?region=${props.connectivityAndSecurity.region}`,
      node.taskID,
    ),
    node.availabilityZone,
    styles.storageState(node.storageState),
    node.leader,
    node.follower,
    node.nodesetMember,
    styles.ecsLastStatus(node.lastStatus),
    styles.ecsDesiredStatus(node.desiredStatus),
    styles.healthStatus(node.healthStatus),
    styles.link(
      `/ecs/v2/task-definitions/${node.taskDefinition.replace(":", "/")}?region=${props.connectivityAndSecurity.region}`,
      node.taskDefinition,
    ),
    node.cpu,
    node.memory,
    node.storage,
    node.startedAt,
  ]);

  const statefulNodes = styles.paginatedTable(
    context,
    event,
    "statefulNodes",
    "Stateful nodes",
    statefulNodesHeaders,
    statefulNodesRows,
    "No nodes",
    { mainTabs: "mainTabs1" },
    [
      styles.buttonLink(
        `/ecs/v2/task-definitions/${props.nodes.stateful.taskDefinition.replace(":", "/")}?region=${props.connectivityAndSecurity.region}`,
        "Task Definition",
      ),
      ...(props.nodes.stateless.logGroup
        ? [
            styles.buttonLink(
              `/cloudwatch/home?region=${props.connectivityAndSecurity.region}#logsV2:log-groups/log-group/${props.nodes.stateful.logGroup}/log-events`,
              "CloudWatch Logs",
            ),
          ]
        : []),
    ],
  );

  const statelessNodesHeaders: styles.TableHeader[] = [
    { name: "Node ID", width: 100 },
    { name: "Task", width: 350 },
    { name: "Availability zone", width: 200 },
    { name: "Last status", width: 165 },
    { name: "Desired status", width: 165 },
    { name: "Health status", width: 165 },
    { name: "Task definition", width: 639 },
    { name: "CPU", width: 120 },
    { name: "Memory", width: 120 },
    { name: "Started at", width: 140 },
  ];

  const statelessNodesRows = props.nodes.stateless.tasks.map((node) => [
    node.nodeID,
    styles.link(
      `/ecs/v2/clusters/${props.nodes.clusterName}/tasks/${node.taskID}?region=${props.connectivityAndSecurity.region}`,
      node.taskID,
    ),
    node.availabilityZone,
    styles.ecsLastStatus(node.lastStatus),
    styles.ecsDesiredStatus(node.desiredStatus),
    styles.healthStatus(node.healthStatus),
    styles.link(
      `/ecs/v2/task-definitions/${node.taskDefinition.replace(":", "/")}?region=${props.connectivityAndSecurity.region}`,
      node.taskDefinition,
    ),
    node.cpu,
    node.memory,
    node.startedAt,
  ]);

  const statelessNodes = styles.paginatedTable(
    context,
    event,
    "statelessNodes",
    "Stateless nodes",
    statelessNodesHeaders,
    statelessNodesRows,
    "No nodes",
    { mainTabs: "mainTabs1" },
    [
      styles.buttonLink(
        `/ecs/v2/clusters/${props.nodes.clusterName}/services/${props.nodes.stateless.serviceName}/health?region=${props.connectivityAndSecurity.region}`,
        "Service",
      ),
      styles.buttonLink(
        `/ecs/v2/task-definitions/${props.nodes.stateless.taskDefinition.replace(":", "/")}?region=${props.connectivityAndSecurity.region}`,
        "Task Definition",
      ),
      ...(props.nodes.stateless.logGroup
        ? [
            styles.buttonLink(
              `/cloudwatch/home?region=${props.connectivityAndSecurity.region}#logsV2:log-groups/log-group/${props.nodes.stateless.logGroup}/log-events`,
              "CloudWatch Logs",
            ),
          ]
        : []),
    ],
  );

  const controllerHeaders = [
    { name: "Task", width: 350 },
    { name: "Availability zone", width: 180 },
    { name: "Last status", width: 165 },
    { name: "Desired status", width: 165 },
    { name: "Health status", width: 165 },
    { name: "Task definition", width: 639 },
    { name: "CPU", width: 120 },
    { name: "Memory", width: 120 },
    { name: "Started at", width: 140 },
  ];

  const controllerRows = props.nodes.controller.tasks.map((node) => [
    styles.link(
      `/ecs/v2/clusters/${props.nodes.clusterName}/tasks/${node.taskID}?region=${props.connectivityAndSecurity.region}`,
      node.taskID,
    ),
    node.availabilityZone,
    styles.ecsLastStatus(node.lastStatus),
    styles.ecsDesiredStatus(node.desiredStatus),
    styles.healthStatus(node.healthStatus),
    styles.link(
      `/ecs/v2/task-definitions/${node.taskDefinition.replace(":", "/")}?region=${props.connectivityAndSecurity.region}`,
      node.taskDefinition,
    ),
    node.cpu,
    node.memory,
    node.startedAt,
  ]);

  const controllerTasks = styles.paginatedTable(
    context,
    event,
    "controllerTasks",
    "Controller tasks",
    controllerHeaders,
    controllerRows,
    "No tasks",
    { mainTabs: "mainTabs1" },
    [
      styles.buttonLink(
        `/ecs/v2/clusters/${props.nodes.clusterName}/services/${props.nodes.controller.serviceName}/health?region=${props.connectivityAndSecurity.region}`,
        "Service",
      ),
      styles.buttonLink(
        `/ecs/v2/task-definitions/${props.nodes.controller.taskDefinition.replace(":", "/")}?region=${props.connectivityAndSecurity.region}`,
        "Task Definition",
      ),
      ...(props.nodes.controller.logGroup
        ? [
            styles.buttonLink(
              `/cloudwatch/home?region=${props.connectivityAndSecurity.region}#logsV2:log-groups/log-group/${props.nodes.controller.logGroup}/log-events`,
              "CloudWatch Logs",
            ),
          ]
        : []),
    ],
  );

  const compute = styles.vertical(
    "l",
    statefulNodes,
    statelessNodes,
    controllerTasks,
  );

  const s3Bucket = styles.contentWrapper(
    true,
    "S3",
    styles.columns(
      styles.keyValue(
        "Bucket",
        styles.link(
          `/s3/buckets/${props.storage.s3.bucket}?region=${props.connectivityAndSecurity.region}`,
          props.storage.s3.bucket,
        ),
      ),
      styles.keyValue("Total size", props.storage.s3.totalSize),
    ),
  );

  const volumeHeaders: styles.TableHeader[] = [
    { name: "Volume", width: 350 },
    { name: "Type", width: 100 },
    { name: "Size", width: 120 },
    { name: "IOPS", width: 120, compare: numericCompare },
    { name: "Throughput", width: 140, compare: numericCompare },
    { name: "Availability zone", width: 180 },
    { name: "Volume state", width: 140 },
    { name: "Status check", width: 140 },
  ];

  const volumeRows = props.storage.volumes.map((volume) => [
    "volumeID" in volume
      ? styles.link(
          `/ec2/home?region=${props.connectivityAndSecurity.region}#VolumeDetails:volumeId=${volume.volumeID}`,
          volume.volumeID,
        )
      : styles.link(
          `/ecs/v2/clusters/${props.nodes.clusterName}/tasks/${volume.taskID}?region=${props.connectivityAndSecurity.region}`,
          `${volume.taskID} (ephemeral)`,
        ),
    volume.type,
    volume.size,
    volume.iops,
    volume.throughput,
    volume.availabilityZone,
    styles.volumeState(volume.state),
    styles.volumeStatus(volume.statusCheck),
  ]);

  const volumes = styles.paginatedTable(
    context,
    event,
    "volumes",
    "Volumes",
    volumeHeaders,
    volumeRows,
    "No volumes",
    { mainTabs: "mainTabs2" },
  );
  const storage = styles.vertical("l", s3Bucket, volumes);

  const replicationFactor = (
    replication: { node: number } | { zone: number },
  ) => {
    if ("node" in replication) {
      if (replication.node == 1) {
        return "1 node";
      } else {
        return `${replication.node} nodes`;
      }
    } else {
      if (replication.zone == 1) {
        return "1 zone";
      } else {
        return `${replication.zone} zones`;
      }
    }
  };

  const partitionHeaders: styles.TableHeader[] = [
    { name: "Partition ID", width: 120, compare: numericCompare },
    { name: "Node ID", width: 100 },
    { name: "Mode", width: 100 },
    { name: "Status", width: 100 },
    { name: "Leader", width: 100 },
    { name: "Sequencer", width: 120 },
    { name: "Applied LSN", width: 140, compare: numericCompare },
    { name: "Persisted LSN", width: 140, compare: numericCompare },
    {
      name: "Archived LSN",
      width: 140,
      compare: (a: string, b: string) => {
        if (a == "-" && b == "-") return 0;
        if (a == "-" && b != "-") return -1;
        if (a != "-" && b == "-") return 1;
        return numericCompare(a, b);
      },
    },
    { name: "LSN Lag", width: 100, compare: numericCompare },
    { name: "Last update", width: 200 },
  ];

  function chunk<T>(arr: T[], chunkSize: number): T[][] {
    if (chunkSize <= 0) throw "Invalid chunk size";
    var R = [];
    for (var i = 0, len = arr.length; i < len; i += chunkSize)
      R.push(arr.slice(i, i + chunkSize));
    return R;
  }

  const partitionRows = props.replication.partitions.info.map((partition) => [
    partition.partitionID,
    partition.nodeID,
    partition.mode,
    partition.status,
    partition.leader,
    partition.sequencer,
    partition.appliedLSN,
    partition.persistedLSN,
    partition.archivedLSN,
    partition.lsnLag,
    partition.lastUpdate,
  ]);

  const partitions = styles.paginatedTable(
    context,
    event,
    "partitions",
    `<span>Partitions ${styles.counter(`(${props.replication.partitions.count})`)}</span><span style="color: #656871; font-weight: normal; line-height: 16px; margin: 6px; font-size: 12px">Replicated over ${replicationFactor(props.replication.partitions.replication)}</span>`,
    partitionHeaders,
    partitionRows,
    "No partitions",
    { mainTabs: "mainTabs3" },
  );

  const logHeaders = [
    { name: "Log ID", width: 80 },
    { name: "From LSN", width: 120 },
    { name: "Loglet ID", width: 80 },
    { name: "Sequencer", width: 100 },
    { name: "Nodeset", width: 140 },
  ];

  const logRows = props.replication.logs.info.map((log) => [
    log.logID,
    log.fromLSN,
    log.logletID,
    log.sequencer,
    log.nodeSet,
  ]);

  const logs = styles.paginatedTable(
    context,
    event,
    "logs",
    `<span>Logs ${styles.counter(`(${props.replication.logs.count})`)}</span><span style="color: #656871; font-weight: normal; line-height: 16px; margin: 6px; font-size: 12px">Replicated over ${replicationFactor(props.replication.logs.replication)}</span>`,
    logHeaders,
    logRows,
    "No logs",
    { mainTabs: "mainTabs3" },
  );

  const replication = styles.vertical("l", partitions, logs);

  const tabs = styles.tabs(
    "mainTabs",
    event.checkedRadios ?? {},
    {
      header: "Connectivity & security",
      inner: connectivity,
    },
    {
      header: "Compute",
      inner: compute,
    },
    {
      header: "Storage",
      inner: storage,
    },
    {
      header: "Replication",
      inner: replication,
    },
  );

  const body = styles.vertical("m", summary, tabs);

  return `
${styles.css(4, Math.max(statefulNodesRows.length, statelessNodesRows.length, controllerRows.length, volumeRows.length, logRows.length, partitionRows.length), Math.max(statefulNodesHeaders.length, statelessNodesHeaders.length, controllerHeaders.length, volumeHeaders.length, logHeaders.length, partitionHeaders.length))}
${body}
`;
}
